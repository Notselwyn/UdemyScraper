from json import loads
from time import sleep
from requests import Session
from bs4 import BeautifulSoup
from datetime import datetime as dt
from re import findall
from selenium import webdriver, common

auto_redeem = True
make_files = False
access_token = 'at here'
csrftoken = "csrftokenhere"
client_id = "cid here"

cookies = {"csrftoken": csrftoken, "access_token": access_token, "client_id": client_id}

options = webdriver.FirefoxOptions()
options.add_argument("-headless")
driver = webdriver.Firefox(options=options)
driver.get('http://www.udemy.com')
for n, v in cookies.items():
    driver.add_cookie({'name': n, 'value': v, 'path': '/', 'domain': 'www.udemy.com', 'secure': False, 'httpOnly': False, 'expiry': 1625817606, 'sameSite': 'None'})
sess = Session()


def price_data(url):
    driver.get(url)
    for _ in range(50):
        try:
            pd = driver.find_element_by_class_name("udlite-clp-price-text").text
            if pd == "":
                raise common.exceptions.NoSuchElementException
            return "Free" in pd, float(pd.split("\n")[3][1:]), driver.page_source
        except common.exceptions.NoSuchElementException:
            sleep(0.1)
    return False, None, driver.page_source


def courseify(raw_html):
    info = {}
    info["uri"] = raw_html.find('a', {'class': 'btn btn-md btn-success'}).attrs['href']
    info["url"], info['coupon'] = info["uri"].split("/?couponCode=")
    desc_list = findall(r'About Course: .+Rating:', raw_html.text)
    info["description"] = desc_list[0][14:-7] if len(desc_list) > 0 else 'desc: None\n'
    return info


#courses = [*map(courseify, BeautifulSoup(sess.get("https://yofreesamples.com/courses/free-discounted-udemy-courses-list").text, "html.parser").find_all("div", {"class": "col-xs-12 col-sm-9"}))]
#print(courses)
#total_savings = 0
#for c in courses:
#    is_free, saved, src = price_data(c["uri"])
#    if is_free is False:
#        courses.remove(c)
#        print(f"(INVALID) >>> {c['url']}")
#    else:
#        c["data"] = loads(BeautifulSoup(src, 'html.parser').find("body").attrs['data-module-args'])
#        c["is_public"] = c["data"]["is_published"]
#        c["id"] = c["data"]["course_id"]
#        c["title"] = c["data"]['title']
#        total_savings = round(total_savings + saved, 2)
#        max_len = max([len(str(total_savings)), len(c['coupon'])])
#        if len(str(total_savings).split('.')[1]) == 1:
#            total_savings = float(str(total_savings) + "0")
#        print(f"(CONFIRMED) >>> {c['url']}\n| Coupon:      {c['coupon']}{' ' * (max_len - len(c['coupon']))} |\n| Saved:       €{saved}{' ' * (max_len-len(str(saved))- 1)} |\n| Total Saved: €{total_savings}{' ' * (max_len-len(str(total_savings))-1)} |\n\\_______________{'_' * max_len}/\n")


if make_files:
    title = f"[{dt.strftime(dt.now(), '20%y %m %d')}] {len(courses)} - FREE UDEMY COURSES FOR LIMITED TIME"
    motd = '\n\nAll HQ Udemy links; no referral garbage!\n\nLeave like if you enjoyed!\n\n'
    with open(fr"{title} - RAW.txt", 'w') as f:
        f.write(title + motd)
        chr_count = len(title + motd)
        for course in courses:
            course_link = course['uri'] + '\n'
            if chr_count + len(course_link) > 15000:
                break

            f.write(course_link)
            chr_count += len(course_link)

    with open(fr"{title} - CLEAN.txt", 'w') as f:
        f.write(title + motd)
        for pos, course in enumerate(courses, start=1):
            try:
                f.write(f"{pos}. {course['title']}\n{course['description']}\n{course['uri']}\n\n\n")
            except: ...

if auto_redeem:
    headers = {
        'host': 'www.udemy.com',
        'authorization': 'Bearer ' + access_token,
        'accept': 'application/json, text/plain, */*',
        "accept-language": "Accept-Language: en-US,en;q=0.5",
        "Accept-Encoding": "gzip, deflate",
        'x-requested-with': 'XMLHttpRequest',
        'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0',
        'x-forwarded-for': "19.112.137.13",
        "if-match": "W/\"feca43844ece6af1b8851d1f2a770ed3\"",
        'x-udemy-authorization': 'Bearer ' + access_token,
        'content-type': 'application/json;charset=UTF-8',
        'origin': 'https://www.udemy.com',
        'referer': 'https://www.udemy.com/',
        "dnt": "1",
        "Te": "trailers",
        "connection": "close"
    }
    print(cookies)
    cookies = {x["name"]: x["value"] for x in driver.get_cookies()}

# IDEA; Add to cart w/ requests, checkout click with driver
#Host: www.udemy.com
#User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0
#Accept: application/json, text/plain, */*
#Accept-Language: en-US,en;q=0.5
#Accept-Encoding: gzip, deflate
#Content-Type: application/json;charset=utf-8
#X-Requested-With: XMLHttpRequest
#Authorization: Bearer cLDo7mDXJjk1uA5wL348XTCGFv6AL3VUzbJZOfwF
#X-Udemy-Authorization: Bearer cLDo7mDXJjk1uA5wL348XTCGFv6AL3VUzbJZOfwF
#X-Checkout-Is-Mobile-App: false
#X-Csrftoken: gihIKXErHxBsfu9Axvi9eVImPFrmb9I71NPw3jusyalpF77tYBEvh5CVQPGJtTV6
#Content-Length: 609
#Origin: https://www.udemy.com
#Dnt: 1
#Referer: https://www.udemy.com/cart/checkout/
#Te: trailers
#Connection: close

    #print([*courses])
    for c in [{'uri': 'https://www.udemy.com/course/curso-de-css-introduccion-a-las-hojas-de-estilos-en-cascada/?couponCode=C08D8D45C24F34EF2765', 'url': 'https://www.udemy.com/course/curso-de-css-introduccion-a-las-hojas-de-estilos-en-cascada', 'coupon': 'C08D8D45C24F34EF2765', 'description': 'Aprende a agregar estilos a tus plantillas Html desde cero ', 'data': {'title': 'Curso de Css-las bases de las hojas de estilos en cascada', 'is_in_user_subscription': False, 'hasDarkBackground': True, 'isFreeSEOExp': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_wishlisted': False, 'is_paid': True, 'subcategoryId': 140, 'featured_review_id': '', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_private': False, 'topicTitle': 'general', 'should_show_updated_lists': False, 'course_id': 3913800, 'is_published': True, 'sourcePage': 'clp', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'datadogTags': {'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor', 'view': 'default'}, 'url': '/course/curso-de-css-introduccion-a-las-hojas-de-estilos-en-cascada/'}, 'is_public': True, 'id': 3913800, 'title': 'Curso de Css-las bases de las hojas de estilos en cascada'}, {'uri': 'https://www.udemy.com/course/fastcash/?couponCode=UNLIMITEDMONEY', 'url': 'https://www.udemy.com/course/fastcash', 'coupon': 'UNLIMITEDMONEY', 'description': 'complete guide to dropshipping, learn from an experienced professional eBay seller all secrets revealed ', 'data': {'featured_review_id': '', 'is_wishlisted': False, 'subcategoryId': 354, 'topicTitle': 'general', 'datadogTags': {'localized': False, 'root': 'course_landing_page/frames', 'frame': 'visitor', 'view': 'default'}, 'is_private': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'url': '/course/fastcash/', 'is_published': True, 'should_show_updated_lists': False, 'hasDarkBackground': True, 'isFreeSEOExp': False, 'title': 'eBay Dropshipping Academy: Ultimate Arbitrage Mastery Course', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_paid': True, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'sourcePage': 'clp', 'course_id': 453858, 'is_in_user_subscription': False}, 'is_public': True, 'id': 453858, 'title': 'eBay Dropshipping Academy: Ultimate Arbitrage Mastery Course'}, {'uri': 'https://www.udemy.com/course/tikker-lingua-discover-german-dialects/?couponCode=2930EAB76C5536DA0449', 'url': 'https://www.udemy.com/course/tikker-lingua-discover-german-dialects', 'coupon': '2930EAB76C5536DA0449', 'description': 'Train your Comprehension Skills ', 'data': {'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'featured_review_id': '', 'sourcePage': 'clp', 'should_show_updated_lists': False, 'is_in_user_subscription': False, 'datadogTags': {'root': 'course_landing_page/frames', 'frame': 'visitor', 'localized': False, 'view': 'default'}, 'title': 'German Language Course - Authentic Dialects and Accents', 'isFreeSEOExp': False, 'is_wishlisted': False, 'topicTitle': 'general', 'is_paid': True, 'is_published': True, 'url': '/course/tikker-lingua-discover-german-dialects/', 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'subcategoryId': 521, 'hasDarkBackground': True, 'course_id': 2138038, 'is_private': False}, 'is_public': True, 'id': 2138038, 'title': 'German Language Course - Authentic Dialects and Accents'}, {'uri': 'https://www.udemy.com/course/aliexpress-affiliate-marketing-zero-to-hero/?couponCode=DCA24ED4E91B43B02B9C', 'url': 'https://www.udemy.com/course/aliexpress-affiliate-marketing-zero-to-hero', 'coupon': 'DCA24ED4E91B43B02B9C', 'description': 'Become an AliExpress Affiliate Marketing Mastermind, Learn how to succeed without spending a single cent on advertising ', 'data': {'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'topicTitle': 'general', 'title': 'AliExpress Affiliate Marketing: Zero to Hero', 'isFreeSEOExp': False, 'featured_review_id': '', 'datadogTags': {'view': 'default', 'root': 'course_landing_page/frames', 'frame': 'visitor', 'localized': False}, 'url': '/course/aliexpress-affiliate-marketing-zero-to-hero/', 'is_wishlisted': False, 'is_in_user_subscription': False, 'is_paid': True, 'is_private': False, 'hasDarkBackground': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'course_id': 2734190, 'sourcePage': 'clp', 'should_show_updated_lists': False, 'subcategoryId': 88, 'is_published': True}, 'is_public': True, 'id': 2734190, 'title': 'AliExpress Affiliate Marketing: Zero to Hero'}, {'uri': 'https://www.udemy.com/course/fundamentos-programacion-curso/?couponCode=GRATIS_2021', 'url': 'https://www.udemy.com/course/fundamentos-programacion-curso', 'coupon': 'GRATIS_2021', 'description': 'Aprende las bases y la lógica de la programación con el mejor curso, y prepárate para aprender cualquier lenguaje. ', 'data': {'title': 'Fundamentos de Programación - Aprende a Programar Desde Cero', 'url': '/course/fundamentos-programacion-curso/', 'should_show_updated_lists': False, 'isFreeSEOExp': False, 'subcategoryId': 12, 'topicTitle': 'general', 'is_published': True, 'sourcePage': 'clp', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'datadogTags': {'frame': 'visitor', 'localized': False, 'view': 'default', 'root': 'course_landing_page/frames'}, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'is_in_user_subscription': False, 'hasDarkBackground': True, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'course_id': 3282188, 'featured_review_id': '', 'is_private': False, 'is_paid': True, 'is_wishlisted': False}, 'is_public': True, 'id': 3282188, 'title': 'Fundamentos de Programación - Aprende a Programar Desde Cero'}, {'uri': 'https://www.udemy.com/course/mba-course-marketing-strategy/?couponCode=TRICKYMANYOUTUBER', 'url': 'https://www.udemy.com/course/mba-course-marketing-strategy', 'coupon': 'TRICKYMANYOUTUBER', 'description': 'Best Selling Course designed by an MBA graduate from the syllabus of top Universities in the world. ', 'data': {'course_id': 3449088, 'sourcePage': 'clp', 'should_show_updated_lists': False, 'is_private': False, 'topicTitle': 'general', 'is_paid': True, 'featured_review_id': '', 'title': 'Complete MBA course: Marketing and Business Strategy', 'is_wishlisted': False, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'subcategoryId': 70, 'isFreeSEOExp': False, 'is_published': True, 'url': '/course/mba-course-marketing-strategy/', 'hasDarkBackground': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_in_user_subscription': False, 'datadogTags': {'root': 'course_landing_page/frames', 'frame': 'visitor', 'localized': False, 'view': 'default'}}, 'is_public': True, 'id': 3449088, 'title': 'Complete MBA course: Marketing and Business Strategy'}, {'uri': 'https://www.udemy.com/course/advanced-sql-server-masterclass-for-data-analysis/?couponCode=FREE-ADVANCED-SQL', 'url': 'https://www.udemy.com/course/advanced-sql-server-masterclass-for-data-analysis', 'coupon': 'FREE-ADVANCED-SQL', 'description': 'Take your SQL skills – and your career – to the next level ', 'data': {'isFreeSEOExp': False, 'hasDarkBackground': True, 'title': 'The Advanced SQL Server Masterclass For Data Analysis', 'sourcePage': 'clp', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'frame': 'visitor', 'view': 'default', 'root': 'course_landing_page/frames', 'localized': False}, 'is_private': False, 'subcategoryId': 44, 'is_in_user_subscription': False, 'featured_review_id': '', 'should_show_updated_lists': False, 'is_wishlisted': False, 'topicTitle': 'general', 'is_published': True, 'url': '/course/advanced-sql-server-masterclass-for-data-analysis/', 'course_id': 4069268, 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'is_paid': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']]}, 'is_public': True, 'id': 4069268, 'title': 'The Advanced SQL Server Masterclass For Data Analysis'}, {'uri': 'https://www.udemy.com/course/veganvejetaryen-cikolata-egitimi-naturel-sfr-seker/?couponCode=69AZ93AY31BS16', 'url': 'https://www.udemy.com/course/veganvejetaryen-cikolata-egitimi-naturel-sfr-seker', 'coupon': '69AZ93AY31BS16', 'description': 'DOĞAL VEGAN/VEJETARYEN ÇİKOLATA EĞİTİMİ ', 'data': {'sourcePage': 'clp', 'is_published': True, 'hasDarkBackground': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'isFreeSEOExp': False, 'is_paid': True, 'should_show_updated_lists': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'frame': 'visitor', 'view': 'default', 'root': 'course_landing_page/frames', 'localized': False}, 'featured_review_id': '', 'course_id': 4080218, 'title': 'Vegan/Vejetaryen çikolata Eğitimi( Naturel, Sıfır Şeker )', 'subcategoryId': 182, 'is_wishlisted': False, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'url': '/course/veganvejetaryen-cikolata-egitimi-naturel-sfr-seker/', 'is_in_user_subscription': False, 'is_private': False, 'topicTitle': 'general'}, 'is_public': True, 'id': 4080218, 'title': 'Vegan/Vejetaryen çikolata Eğitimi( Naturel, Sıfır Şeker )'}, {'uri': 'https://www.udemy.com/course/the-complete-fitness-health-masterclass/?couponCode=B18819C7318DBB456CD3', 'url': 'https://www.udemy.com/course/the-complete-fitness-health-masterclass', 'coupon': 'B18819C7318DBB456CD3', 'description': 'The Most Comprehensive Masterclass to Improve Your Mind, Body and Health – Start Growing Today! ', 'data': {'is_paid': True, 'is_in_user_subscription': False, 'topicTitle': 'general', 'is_private': False, 'hasDarkBackground': True, 'should_show_updated_lists': False, 'title': 'The Complete Fitness & Health Masterclass - 21 Courses in 1', 'subcategoryId': 222, 'is_published': True, 'is_wishlisted': False, 'sourcePage': 'clp', 'course_id': 3337272, 'url': '/course/the-complete-fitness-health-masterclass/', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'view': 'default', 'frame': 'visitor', 'localized': False, 'root': 'course_landing_page/frames'}, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'featured_review_id': '', 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'isFreeSEOExp': False}, 'is_public': True, 'id': 3337272, 'title': 'The Complete Fitness & Health Masterclass - 21 Courses in 1'}, {'uri': 'https://www.udemy.com/course/materiales/?couponCode=15CURSOSGRATIS', 'url': 'https://www.udemy.com/course/materiales', 'coupon': '15CURSOSGRATIS', 'description': 'Elige correctamente los materiales, texturas, acabados, superficies y calidades de tus diseños y tus proyectos creativos ', 'data': {'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'course_id': 3502094, 'is_paid': True, 'datadogTags': {'view': 'default', 'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor'}, 'featured_review_id': '', 'is_wishlisted': False, 'topicTitle': 'general', 'should_show_updated_lists': False, 'url': '/course/materiales/', 'sourcePage': 'clp', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_published': True, 'is_private': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'isFreeSEOExp': False, 'subcategoryId': 128, 'hasDarkBackground': True, 'title': 'Materiales. Acabados en Arquitectura e Interiorismo.', 'is_in_user_subscription': False}, 'is_public': True, 'id': 3502094, 'title': 'Materiales. Acabados en Arquitectura e Interiorismo.'}, {'uri': 'https://www.udemy.com/course/start-business-model-course/?couponCode=TRICKYMANYOUTUBER', 'url': 'https://www.udemy.com/course/start-business-model-course', 'coupon': 'TRICKYMANYOUTUBER', 'description': 'Learn how to build next billion dollar innovative business model ', 'data': {'url': '/course/start-business-model-course/', 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'is_wishlisted': False, 'course_id': 3909642, 'should_show_updated_lists': False, 'featured_review_id': '', 'hasDarkBackground': True, 'is_private': False, 'title': '31 Startup Business Model : Best Course for Entrepreneurs', 'topicTitle': 'general', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_published': True, 'isFreeSEOExp': False, 'sourcePage': 'clp', 'subcategoryId': 34, 'datadogTags': {'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor', 'view': 'default'}, 'is_paid': True, 'is_in_user_subscription': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context']}, 'is_public': True, 'id': 3909642, 'title': '31 Startup Business Model : Best Course for Entrepreneurs'}, {'uri': 'https://www.udemy.com/course/aws-solutions-architect-associate-certification-crash-course/?couponCode=F9CC0C386AAC55AA9BAC', 'url': 'https://www.udemy.com/course/aws-solutions-architect-associate-certification-crash-course', 'coupon': 'F9CC0C386AAC55AA9BAC', 'description': 'Elevate your AWS skills to new heights and earn one of the most sought-after and well-respected certifications in IT. ', 'data': {'topicTitle': 'general', 'is_in_user_subscription': False, 'url': '/course/aws-solutions-architect-associate-certification-crash-course/', 'title': 'AWS Solutions Architect Associate Certification Crash Course', 'course_id': 3631002, 'is_wishlisted': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'is_published': True, 'should_show_updated_lists': False, 'featured_review_id': '', 'subcategoryId': 132, 'isFreeSEOExp': False, 'is_paid': True, 'sourcePage': 'clp', 'hasDarkBackground': True, 'datadogTags': {'view': 'default', 'frame': 'visitor', 'localized': False, 'root': 'course_landing_page/frames'}, 'is_private': False}, 'is_public': True, 'id': 3631002, 'title': 'AWS Solutions Architect Associate Certification Crash Course'}, {'uri': 'https://www.udemy.com/course/for-a-mind-learn-to-learn-with-mind-mapping/?couponCode=FORAMINDCOM', 'url': 'https://www.udemy.com/course/for-a-mind-learn-to-learn-with-mind-mapping', 'coupon': 'FORAMINDCOM', 'description': 'You become aware of the learning with Mind Mapping and you will never be the same again after FOR A MIND ', 'data': {'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'topicTitle': 'general', 'is_in_user_subscription': False, 'featured_review_id': '', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'subcategoryId': 172, 'course_id': 3490216, 'is_private': False, 'url': '/course/for-a-mind-learn-to-learn-with-mind-mapping/', 'is_paid': True, 'should_show_updated_lists': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'title': 'Mind Maps Basics and Learning How to Learn with Mind Mapping', 'is_published': True, 'is_wishlisted': False, 'isFreeSEOExp': False, 'sourcePage': 'clp', 'datadogTags': {'root': 'course_landing_page/frames', 'localized': False, 'view': 'default', 'frame': 'visitor'}, 'hasDarkBackground': True}, 'is_public': True, 'id': 3490216, 'title': 'Mind Maps Basics and Learning How to Learn with Mind Mapping'}, {'uri': 'https://www.udemy.com/course/artificial-intelligence-in-the-classroom/?couponCode=A74C93416C5C2C97CE09', 'url': 'https://www.udemy.com/course/artificial-intelligence-in-the-classroom', 'coupon': 'A74C93416C5C2C97CE09', 'description': 'Understand Artificial Intelligence and teach it to your students! ', 'data': {'featured_review_id': '', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'url': '/course/artificial-intelligence-in-the-classroom/', 'topicTitle': 'general', 'is_paid': True, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'is_wishlisted': False, 'is_in_user_subscription': False, 'isFreeSEOExp': False, 'should_show_updated_lists': False, 'course_id': 3272144, 'title': 'Artificial Intelligence (AI) in the Classroom', 'sourcePage': 'clp', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_published': True, 'datadogTags': {'root': 'course_landing_page/frames', 'localized': False, 'view': 'default', 'frame': 'visitor'}, 'is_private': False, 'subcategoryId': 527, 'hasDarkBackground': True}, 'is_public': True, 'id': 3272144, 'title': 'Artificial Intelligence (AI) in the Classroom'}, {'uri': 'https://www.udemy.com/course/b2b-lead-generation-via-personalised-sales-videos-linkedin/?couponCode=1D8CAF605FD81593FC3C', 'url': 'https://www.udemy.com/course/b2b-lead-generation-via-personalised-sales-videos-linkedin', 'coupon': '1D8CAF605FD81593FC3C', 'description': 'Wonder Leads: Outbound sales for positive businesses that’s proved to be nearly 20x more effective than cold calling ', 'data': {'url': '/course/b2b-lead-generation-via-personalised-sales-videos-linkedin/', 'is_wishlisted': False, 'isFreeSEOExp': False, 'title': 'B2B Lead Generation via Personalised Sales Videos & LinkedIn', 'is_in_user_subscription': False, 'featured_review_id': '', 'is_published': True, 'subcategoryId': 32, 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'course_id': 4139704, 'sourcePage': 'clp', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_paid': True, 'datadogTags': {'view': 'default', 'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor'}, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_private': False, 'hasDarkBackground': True, 'topicTitle': 'general', 'should_show_updated_lists': False}, 'is_public': True, 'id': 4139704, 'title': 'B2B Lead Generation via Personalised Sales Videos & LinkedIn'}, {'uri': 'https://www.udemy.com/course/interactive-html-course/?couponCode=HTML5JULY2021', 'url': 'https://www.udemy.com/course/interactive-html-course', 'coupon': 'HTML5JULY2021', 'description': 'Master yourself in HTML5: Interactive way, step by step and easy to follow. Great for Absolute Beginners!! ', 'data': {'sourcePage': 'clp', 'is_published': True, 'should_show_updated_lists': False, 'topicTitle': 'general', 'is_wishlisted': False, 'isFreeSEOExp': False, 'title': 'The Complete HTML5 Course: From Beginning to Expert', 'url': '/course/interactive-html-course/', 'featured_review_id': '', 'datadogTags': {'frame': 'visitor', 'root': 'course_landing_page/frames', 'localized': False, 'view': 'default'}, 'is_private': False, 'hasDarkBackground': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_paid': True, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_in_user_subscription': False, 'subcategoryId': 8, 'course_id': 1712214, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}}, 'is_public': True, 'id': 1712214, 'title': 'The Complete HTML5 Course: From Beginning to Expert'}, {'uri': 'https://www.udemy.com/course/extreme-automation-in-digital-marketing-certification/?couponCode=AUTOMATEFANS', 'url': 'https://www.udemy.com/course/extreme-automation-in-digital-marketing-certification', 'coupon': 'AUTOMATEFANS', 'description': 'MBA\xa0in\xa0Artificial Intelligence Digital Marketing: Term 1.3 course focussed on teaching digital marketing automation tech ', 'data': {'datadogTags': {'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor', 'view': 'default'}, 'topicTitle': 'general', 'is_published': True, 'course_id': 3150070, 'should_show_updated_lists': False, 'hasDarkBackground': True, 'subcategoryId': 62, 'is_paid': True, 'title': 'Extreme Automation in Digital Marketing (2021 Edition)', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'is_private': False, 'featured_review_id': '', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_in_user_subscription': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'isFreeSEOExp': False, 'url': '/course/extreme-automation-in-digital-marketing-certification/', 'is_wishlisted': False, 'sourcePage': 'clp'}, 'is_public': True, 'id': 3150070, 'title': 'Extreme Automation in Digital Marketing (2021 Edition)'}, {'uri': 'https://www.udemy.com/course/space-render-10-artificial-intelligence-in-3d-animation/?couponCode=SPACERENDERFAN', 'url': 'https://www.udemy.com/course/space-render-10-artificial-intelligence-in-3d-animation', 'coupon': 'SPACERENDERFAN', 'description': 'MBA in Creative Arts, Design and Animation: Level 3 – Part 2 course on 3D Animation Powered by Artificial Intelligence ', 'data': {'isFreeSEOExp': False, 'datadogTags': {'view': 'default', 'localized': False, 'frame': 'visitor', 'root': 'course_landing_page/frames'}, 'is_paid': True, 'should_show_updated_lists': False, 'title': 'Space Render 1.0: Artificial Intelligence in 3D Animation', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'featured_review_id': '', 'hasDarkBackground': True, 'subcategoryId': 120, 'is_wishlisted': False, 'course_id': 3087860, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'url': '/course/space-render-10-artificial-intelligence-in-3d-animation/', 'topicTitle': 'general', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'sourcePage': 'clp', 'is_in_user_subscription': False, 'is_private': False, 'is_published': True}, 'is_public': True, 'id': 3087860, 'title': 'Space Render 1.0: Artificial Intelligence in 3D Animation'}, {'uri': 'https://www.udemy.com/course/jetpack-10-artificial-intelligence-and-automation-in-hr/?couponCode=JETPACKFANS', 'url': 'https://www.udemy.com/course/jetpack-10-artificial-intelligence-and-automation-in-hr', 'coupon': 'JETPACKFANS', 'description': 'MBA\xa0in\xa0Artificial Intelligence Digital Marketing: Term 3.3 course focussed on Artificial Intelligence tech for HR’s ', 'data': {'sourcePage': 'clp', 'title': 'Jetpack 1.0: Artificial Intelligence and Automation in HR', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'subcategoryId': 48, 'is_published': True, 'url': '/course/jetpack-10-artificial-intelligence-and-automation-in-hr/', 'course_id': 3432318, 'datadogTags': {'view': 'default', 'frame': 'visitor', 'root': 'course_landing_page/frames', 'localized': False}, 'featured_review_id': '', 'is_private': False, 'is_wishlisted': False, 'should_show_updated_lists': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'topicTitle': 'general', 'is_in_user_subscription': False, 'hasDarkBackground': True, 'isFreeSEOExp': False, 'is_paid': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']]}, 'is_public': True, 'id': 3432318, 'title': 'Jetpack 1.0: Artificial Intelligence and Automation in HR'}, {'uri': 'https://www.udemy.com/course/video-oasis-the-ultimate-live-streaming-course/?couponCode=VIDEOOASISFANS', 'url': 'https://www.udemy.com/course/video-oasis-the-ultimate-live-streaming-course', 'coupon': 'VIDEOOASISFANS', 'description': 'MBA\xa0in\xa0Artificial Intelligence Digital Marketing: Term 3.1 course focussed on Live-Streaming Tools ', 'data': {'is_published': True, 'course_id': 3118860, 'should_show_updated_lists': False, 'title': 'Video Oasis: The Ultimate Live-Streaming Course (2021)', 'hasDarkBackground': True, 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'datadogTags': {'view': 'default', 'frame': 'visitor', 'root': 'course_landing_page/frames', 'localized': False}, 'is_paid': True, 'isFreeSEOExp': False, 'topicTitle': 'general', 'is_wishlisted': False, 'featured_review_id': '', 'is_private': False, 'sourcePage': 'clp', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_in_user_subscription': False, 'url': '/course/video-oasis-the-ultimate-live-streaming-course/', 'subcategoryId': 78, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context']}, 'is_public': True, 'id': 3118860, 'title': 'Video Oasis: The Ultimate Live-Streaming Course (2021)'}, {'uri': 'https://www.udemy.com/course/youtube-thumbnail-blaster-create-3d-video-thumbnails/?couponCode=YOUTUBEFANS', 'url': 'https://www.udemy.com/course/youtube-thumbnail-blaster-create-3d-video-thumbnails', 'coupon': 'YOUTUBEFANS', 'description': 'MBA in Creative Arts, Design and Animation: Level 3 – Part 7 course focussed on YouTube 3D thumbnail creation ', 'data': {'course_id': 3363918, 'sourcePage': 'clp', 'is_in_user_subscription': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_published': True, 'should_show_updated_lists': False, 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'view': 'default', 'localized': False, 'frame': 'visitor', 'root': 'course_landing_page/frames'}, 'hasDarkBackground': True, 'url': '/course/youtube-thumbnail-blaster-create-3d-video-thumbnails/', 'topicTitle': 'general', 'is_private': False, 'featured_review_id': '', 'is_paid': True, 'title': 'YouTube Thumbnail Blaster: Create 3D Video Thumbnails (2021)', 'is_wishlisted': False, 'subcategoryId': 112, 'isFreeSEOExp': False}, 'is_public': True, 'id': 3363918, 'title': 'YouTube Thumbnail Blaster: Create 3D Video Thumbnails (2021)'}, {'uri': 'https://www.udemy.com/course/quickbooks-online-2018-start-to-finish/?couponCode=03C7FC21AF58D45CF61E', 'url': 'https://www.udemy.com/course/quickbooks-online-2018-start-to-finish', 'coupon': '03C7FC21AF58D45CF61E', 'description': 'Learn QuickBooks Online 2021 in a comprehensive online course taught by a practicing CPA, CGMA, CPI, with BS tax ', 'data': {'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'title': 'QuickBooks Online 2021 & 2020 Start to Finish', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'datadogTags': {'view': 'default', 'localized': False, 'frame': 'visitor', 'root': 'course_landing_page/frames'}, 'sourcePage': 'clp', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'featured_review_id': '', 'course_id': 1517986, 'is_published': True, 'is_in_user_subscription': False, 'should_show_updated_lists': False, 'isFreeSEOExp': False, 'subcategoryId': 26, 'url': '/course/quickbooks-online-2018-start-to-finish/', 'is_paid': True, 'topicTitle': 'general', 'is_private': False, 'hasDarkBackground': True, 'is_wishlisted': False}, 'is_public': True, 'id': 1517986, 'title': 'QuickBooks Online 2021 & 2020 Start to Finish'}, {'uri': 'https://www.udemy.com/course/machine-learning-time-series-forecasting-in-python/?couponCode=TMSULYFR', 'url': 'https://www.udemy.com/course/machine-learning-time-series-forecasting-in-python', 'coupon': 'TMSULYFR', 'description': 'Learn about time series analysis & forecasting models in Python |Time Data Visualization|AR|MA|ARIMA|Regression| ANN ', 'data': {'subcategoryId': 558, 'is_paid': True, 'is_published': True, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'is_wishlisted': False, 'is_private': False, 'hasDarkBackground': True, 'isFreeSEOExp': False, 'course_id': 2859872, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'sourcePage': 'clp', 'url': '/course/machine-learning-time-series-forecasting-in-python/', 'featured_review_id': 69963690, 'topicTitle': 'general', 'should_show_updated_lists': False, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'datadogTags': {'localized': False, 'root': 'course_landing_page/frames', 'view': 'default', 'frame': 'visitor'}, 'is_in_user_subscription': False, 'title': 'Time Series Analysis and Forecasting using Python'}, 'is_public': True, 'id': 2859872, 'title': 'Time Series Analysis and Forecasting using Python'}, {'uri': 'https://www.udemy.com/course/space-render-20-transform-your-podcast-into-videos/?couponCode=SPACERENDERFANS', 'url': 'https://www.udemy.com/course/space-render-20-transform-your-podcast-into-videos', 'coupon': 'SPACERENDERFANS', 'description': 'MBA in Creative Arts, Design and Animation: Level 3 – Part 3 course on podcast-to-video creation and conversion ', 'data': {'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'title': 'Space Render 2.0: Transform your podcast into videos in 2021', 'sourcePage': 'clp', 'hasDarkBackground': True, 'is_published': True, 'topicTitle': 'general', 'is_paid': True, 'featured_review_id': '', 'should_show_updated_lists': False, 'is_in_user_subscription': False, 'subcategoryId': 94, 'is_wishlisted': False, 'course_id': 3150376, 'is_private': False, 'url': '/course/space-render-20-transform-your-podcast-into-videos/', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'isFreeSEOExp': False, 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'view': 'default', 'root': 'course_landing_page/frames', 'localized': False, 'frame': 'visitor'}}, 'is_public': True, 'id': 3150376, 'title': 'Space Render 2.0: Transform your podcast into videos in 2021'}, {'uri': 'https://www.udemy.com/course/build-responsive-website-using-html5-css3-js-and-bootstrap-p/?couponCode=086E9C0B1A4FB0B22B12', 'url': 'https://www.udemy.com/course/build-responsive-website-using-html5-css3-js-and-bootstrap-p', 'coupon': '086E9C0B1A4FB0B22B12', 'description': 'Learn HTML5, CSS3, JavaScript, jQuery and Bootstrap framework by building a modern looking responsive website. ', 'data': {'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'datadogTags': {'localized': False, 'root': 'course_landing_page/frames', 'frame': 'visitor', 'view': 'default'}, 'featured_review_id': '', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'url': '/course/build-responsive-website-using-html5-css3-js-and-bootstrap-p/', 'hasDarkBackground': True, 'course_id': 3726582, 'topicTitle': 'general', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'should_show_updated_lists': False, 'subcategoryId': 12, 'title': 'Complete JAVASCRIPT with HTML5,CSS3 from zero to Expert-2021', 'is_wishlisted': False, 'is_published': True, 'is_paid': True, 'sourcePage': 'clp', 'isFreeSEOExp': False, 'is_private': False, 'is_in_user_subscription': False}, 'is_public': True, 'id': 3726582, 'title': 'Complete JAVASCRIPT with HTML5,CSS3 from zero to Expert-2021'}, {'uri': 'https://www.udemy.com/course/corp-finance-10-cost-of-capitaldebt-equity-financing/?couponCode=A71F07D539ABD76D18DB', 'url': 'https://www.udemy.com/course/corp-finance-10-cost-of-capitaldebt-equity-financing', 'coupon': 'A71F07D539ABD76D18DB', 'description': 'Learn weighted average cost of capital (WACC), debt financing, & equity financing from a Certified Public Accountant CPA ', 'data': {'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'title': 'Corp Finance #10 Cost of Capital–Debt & Equity Financing', 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'datadogTags': {'view': 'default', 'localized': False, 'frame': 'visitor', 'root': 'course_landing_page/frames'}, 'sourcePage': 'clp', 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'featured_review_id': '', 'course_id': 4115694, 'is_published': True, 'is_in_user_subscription': False, 'should_show_updated_lists': False, 'isFreeSEOExp': False, 'subcategoryId': 34, 'url': '/course/corp-finance-10-cost-of-capitaldebt-equity-financing/', 'is_paid': True, 'topicTitle': 'general', 'is_private': False, 'hasDarkBackground': True, 'is_wishlisted': False}, 'is_public': True, 'id': 4115694, 'title': 'Corp Finance #10 Cost of Capital–Debt & Equity Financing'}, {'uri': 'https://www.udemy.com/course/ubuntu-linux-dekstop-basics/?couponCode=7AB6A7DD619229207228', 'url': 'https://www.udemy.com/course/ubuntu-linux-dekstop-basics', 'coupon': '7AB6A7DD619229207228', 'description': 'Learn How to install Ubuntu on a virtual machine or directly on your computer and start performing common tasks ', 'data': {'sourcePage': 'clp', 'is_private': False, 'is_wishlisted': False, 'topicTitle': 'general', 'subcategoryId': 138, 'featured_review_id': '', 'should_show_updated_lists': False, 'title': 'Ubuntu Linux Desktop Basics', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'datadogTags': {'localized': False, 'frame': 'visitor', 'view': 'default', 'root': 'course_landing_page/frames'}, 'is_published': True, 'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'vectors': {'device': 'desktop', 'bandwidth': 'udlite'}, 'isFreeSEOExp': False, 'url': '/course/ubuntu-linux-dekstop-basics/', 'is_paid': True, 'hasDarkBackground': True, 'is_in_user_subscription': False, 'course_id': 2207896}, 'is_public': True, 'id': 2207896, 'title': 'Ubuntu Linux Desktop Basics'}, {'uri': 'https://www.udemy.com/course/corporate-finance-11-capital-budgeting/?couponCode=19813AD62D3CDF0DFF61', 'url': 'https://www.udemy.com/course/corporate-finance-11-capital-budgeting', 'coupon': '19813AD62D3CDF0DFF61', 'description': 'Learn how to make capital budgeting decisions from a certified public accountant (CPA) ', 'data': {'grouped_components': [['practice_test_bundle', 'instructor_bio', 'incentives', 'featured_qa', 'lifetime_access_context', 'caching_intent']], 'is_private': False, 'vectors': {'bandwidth': 'udlite', 'device': 'desktop'}, 'subcategoryId': 544, 'is_published': True, 'is_paid': True, 'title': 'Corporate Finance #11 Capital Budgeting', 'initial_components': ['deal_badge', 'discount_expiration', 'gift_this_course', 'price_text', 'purchase', 'recommendation', 'redeem_coupon', 'cacheable_deal_badge', 'cacheable_discount_expiration', 'cacheable_price_text', 'cacheable_buy_button', 'buy_button', 'buy_for_team', 'cacheable_purchase_text', 'cacheable_add_to_cart', 'money_back_guarantee', 'instructor_links', 'incentives_context', 'top_companies_notice_context', 'curated_for_ufb_notice', 'sidebar_container', 'purchase_tabs_context', 'subscribe_team_modal_context', 'lifetime_access_context'], 'sourcePage': 'clp', 'course_id': 4115696, 'hasDarkBackground': True, 'is_in_user_subscription': False, 'featured_review_id': '', 'isFreeSEOExp': False, 'topicTitle': 'general', 'is_wishlisted': False, 'url': '/course/corporate-finance-11-capital-budgeting/', 'datadogTags': {'frame': 'visitor', 'localized': False, 'root': 'course_landing_page/frames', 'view': 'default'}, 'should_show_updated_lists': False}, 'is_public': True, 'id': 4115696, 'title': 'Corporate Finance #11 Capital Budgeting'}]:

        headers["referer"] = c['uri']
        print(cookies)
        data = f'{{"buyables": [{{"buyable_object_type": "course", "id": "{c["id"]}", "buyable_context": {{}}}}]}}'
        headers["content-length"] = str(len(str(data)))
        print(headers)
        res = sess.post("https://www.udemy.com/api-2.0/shopping-carts/me/cart/", cookies=cookies, headers=headers, data=data)
        print(res)
        #payload = f'{{"checkout_environment":"Marketplace","checkout_event":"Submit","shopping_info":{{"items":[{{"discountInfo":{{"code":"{c["coupon"]}"}},"buyable":{{"type":"course","id": {c["id"]},"context":{{}}}},"price":{{"amount":0,"currency":"EUR"}}}}]}},"payment_info":{{"payment_vendor":"Free","payment_method":"free-method"}},"tax_info":{{"tax_rate":21,"billing_location":{{"country_code":"NL","secondary_location_info":null}},"currency_code":"eur","transaction_items":[{{"udemy_txn_item_reference":"course-{c["id"]}","tax_included_amount":0,"tax_amount":0,"tax_excluded_amount":0}}],"tax_breakdown_type":"tax_inclusive"}}'
        #r = sess.post("https://www.udemy.com/payment/checkout-submit/HTTP/2", headers=headers, data=payload, cookies={"access_token": access_token})
        #print(r)
